{% extends 'base-with-advertising.html' %}
{% load cropping %}
{% load selectable_tags %}
{% load advertising_tags %}

{% block head %}
    <link href="{{STATIC_URL}}styles/create_event.css" rel="stylesheet" type="text/css" />
    {% include_ui_theme 'ui-lightness' %}
    <link href="{{STATIC_URL}}styles/datepicker.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/when.css" rel="stylesheet" type="text/css" />

    <link href="{{STATIC_URL}}styles/place_autocomplete.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/autoSuggest.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/description.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/tagspopup.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/suggest.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/modal.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}ajaxuploader/css/fileuploader.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}image_cropping/css/jquery.Jcrop.min.css" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}styles/crop.css" rel="stylesheet" type="text/css" />

    <script src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=places&language=en"></script>
    

    <script src="{{STATIC_URL}}js/tags.popup.js" type="text/javascript"></script>
    <!-- end time -->
    {{ form.map }}
    {{ form.media.js }}
    <script type="text/javascript">
        var crsf_token = "{{ csrf_token }}";
    </script>

    <script src="{{STATIC_URL}}selectable/js/jquery.dj.selectable.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/location/jquery.geocomplete.js"></script>
    <script src="{{STATIC_URL}}js/location/suggest_map.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/location/suggest_cityfusion_venue.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/location/suggest_form.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/location/venue_autocomplete.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}ckeditor/ckeditor/ckeditor.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/create_event/description.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/create_event/boolean_tags.js" type="text/javascript"></script>
    <script src="{{STATIC_URL}}js/create_event/create_event_page.js" type="text/javascript"></script>
{% endblock %}

 {% block body_attributes %}class="old"{% endblock %}

{% block title %} > Post Event{% endblock %}

{% block page %}
    <div class="primary-content {% if form.city_required %}new_venue{% endif %}">
        <div class="main-content">
            <h1>Post Events</h1>

            <div class="modal-bg"></div>
            <div id="entry-form">
                <form method="post" name="post-events" onsubmit="return validate_form_events(this)" enctype="multipart/form-data">
                    {% csrf_token %}
                    <!--errors -->
                    {%if form.errors %}
                    <h3>Please correct the following:</h3>
                    <div class="errors" style="border:1px solid RED;border-radius:4px;">
                        <ul style="list-style-type: none;">
                            <li id="all-info">
                                {% for error in form.non_field_errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="all-info">
                                {% for error in form.venue_name.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="all-info">
                                {% for error in form.when.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="all-info">
                                {% for error in form.when_json.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="email-info">
                                {% for error in form.email.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="image-info">
                                {% for error in form.username.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="tag-info">
                                {% for error in form.tags.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="website-info">
                                {% for error in form.website.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="description-info">
                                {% for error in form.description.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="price-info">
                                {% for error in form.price.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="when-info">
                                {% for error in form.start_time.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="location-info">
                                {% for error in form.location.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="name-info">
                                {% for error in form.name.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                            <li id="name-info">
                                {% for error in form.venue_account_owner.errors %}
                                <span class="error">{{ error }}</span>
                                {% endfor %}
                            </li>
                        </ul>
                    </div>
                    {% endif %}
                    <!-- end errors -->

                    {{ form.linking_venue_mode }}
                    <table class="create-event-table">
                        <tr>
                            <td class="create-event-td">
                                Event Name
                                <a href="javascript:void;" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for <i>[Event name]:</i>
                                    </h3>
                                    <p>
                                        Insert a name that will stand out
                                    </p>
                                </div>
                            </td>                                            
                            <td>{{form.name}}</td>                                            
                        </tr>
                        <tr>
                            <td>
                                Event Owner
                                <a href="javascript:void;"  class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for <i>[Owner]:</i>
                                    </h3>
                                    <p> 
                                        Choose account wich will be owner of this event
                                    </p>
                                </div>
                            </td>
                            <td>
                                {{ form.venue_account_owner }}                                
                            </td>
                        </tr>
                        <tr class="location-tr">
                            <td>
                                Venue
                                <a href="javascript:void;"  class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for <i>[Location]:</i>
                                    </h3>
                                    <p> 
                                        Type in the name of the venue. However, if you do not find your event, type it in manually by selecting “Suggest a New Venue”
                                    </p>
                                </div>
                            </td>
                            <td>
                                <div class="location">{{ form.place }}</div>
                                <div class="show-map"></div>
                                {{ form.venue_identifier }}
                                <div class="suggest">
                                    <div class="error">
                                        All fields is required
                                    </div>
                                    <table>
                                        <tr>
                                            <td>Venue name</td>
                                            <td>{{form.venue_name}}</td>
                                        </tr>
                                        <tr>
                                            <td>Street address</td>
                                            <td>{{form.street}}</td>
                                        </tr>
                                        <tr>
                                            <td>City</td>
                                            <td>
                                                {{form.city}}
                                                {{form.city_identifier}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Location</td>
                                            <td>
                                                <div class="location_map">{{form.location}}</div>
                                            </td>
                                        </tr>
                                    </table>
                                    <div class="cancel-button">Cancel</div>
                                    <div class="reset-button">Clear</div>
                                    <div class="submit-button">Submit</div>
                                </div>
                            </td>
                            
                        </tr>                                        
                        <tr>
                            <td>
                                When
                                <a href="javascript:void;" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[when]:</i>
                                    </h3>
                                    <p>
                                        Pick your dates and times
                                    </p>
                                </div>
                            </td>
                            <td>
                                {{form.when}}
                                {{form.when_json}}
                            </td>
                            
                        </tr>
                        <tr>
                            <td valign="top" class="top-align">
                                Price
                                <a href="javascript:void;" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[enterance]:</i>
                                    </h3>
                                    <p>
                                        Select Free if the event is free to the public. 
                                        Or you can use things like: $25 / Free before 8pm,
                                        then $10 after / $10 adults, 12 & under Free
                                    </p>
                                </div>
                            </td>
                            <td class="price-td">
                                {{form.price}}
                            </td>                                            
                        </tr>
                        <tr>
                            <td valign="top">
                                Description
                                <a href="javascript:void;" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[Description]:</i>
                                    </h3>
                                    <p>
                                        Type in your event with much detail for the public. Note that certain words will be inserted as tags to help you. Further, for events that are more than one day, you can change them individually by selecting them on the dropdown
                                    </p>
                                </div>
                                <br>
                                <div class="description-select-day-widget">
                                    <div class="description-days-container">
                                        <span class="result">Same for All Days</span>
                                        <div class="selected-result">Same for All</div>
                                        <ul class="days-list active"></ul>
                                    </div>
                                </div>                                           
                                
                            </td>
                            <td>
                                {{form.description}}
                                {{form.description_json}}
                            </td>                                            
                        </tr>
                        <tr>
                            <td>
                                Website
                                <a href="javascript:void;" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[Website]:</i>
                                    </h3>
                                    <p>
                                        Insert website of the event if they have one otherwise you can leave blank. <br/>
                                        <strong>E.g:</strong>. www.event.ca

                                    </p>
                                </div>
                            </td>
                            <td>{{form.website}}</td>                                            
                        </tr>
                        <tr>
                            <td colspan="2" class="wheelchair-td">
                                Wheelchair Accessible
                                <ul>
                                    <li>
                                        <div class="radio">
                                            <input value="True" type="radio" id="id_wheelchair_0" name="wheelchair" tabindex="7">
                                            <label for="id_wheelchair_0"></label> 
                                            <label for="id_wheelchair_0">Yes</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div  class="radio">
                                            <input value="False" type="radio" id="id_wheelchair_1" name="wheelchair" tabindex="7" checked="checked"> 
                                            <label for="id_wheelchair_1"></label>
                                            <label for="id_wheelchair_1">No</label>
                                        </div>
                                    </li>
                                </ul>
                            </td>                                            
                        </tr>
                        <tr>
                            <td colspan="2" class="wheelchair-td">
                                Would you take a date to this event?
                                <ul>
                                    <li>
                                        <div class="radio">
                                            <input value="True" type="radio" id="id_date_night_0" name="date_night" tabindex="8">
                                            <label for="id_date_night_0"></label> 
                                            <label for="id_date_night_0">Yes</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div  class="radio">
                                            <input value="False" type="radio" id="id_date_night_1" name="date_night" tabindex="8" checked="checked"> 
                                            <label for="id_date_night_1"></label>
                                            <label for="id_date_night_1">No</label>
                                        </div>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" class="wheelchair-td">
                                Is this event Family Friendly?
                                <ul>
                                    <li>
                                        <div class="radio">
                                            <input value="True" type="radio" id="id_family_0" name="family" tabindex="9">
                                            <label for="id_family_0"></label> 
                                            <label for="id_family_0">Yes</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div  class="radio">
                                            <input value="False" type="radio" id="id_family_1" name="family" tabindex="9" checked="checked"> 
                                            <label for="id_family_1"></label>
                                            <label for="id_family_1">No</label>
                                        </div>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        {% comment %}
                            <tr>
                                <td colspan="2" class="wheelchair-td">
                                    Let CityFusion post it to FaceBook?
                                    <a href="javascript:void(0);" class="balloon inline">
                                        <div class="buttonq"></div>
                                    </a>
                                    <div class="balloon-content">
                                        <h3>
                                            Help for
                                            <i>[Let post it to FaceBook ]:</i>
                                        </h3>
                                        <p>
                                            This option allows CityFusion to publish this Event also to FaceBook
                                        </p>
                                    </div>
                                    <ul>
                                        <li>
                                            <div class="radio">
                                                <input value="True" type="radio" id="id_post_to_facebook_0" name="post_to_facebook" tabindex="9" {% if form.post_to_facebook.value %}checked="checked"{% endif %}>
                                                <label for="id_post_to_facebook_0"></label>
                                                <label for="id_post_to_facebook_0">Yes</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div  class="radio">
                                                <input value="False" type="radio" id="id_post_to_facebook_1" name="post_to_facebook" tabindex="9" {% if not form.post_to_facebook.value %}checked="checked"{% endif %}>
                                                <label for="id_post_to_facebook_1"></label>
                                                <label for="id_post_to_facebook_1">No</label>
                                            </div>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Facebook comment &nbsp;
                                    <a href="javascript:void(0);" class="balloon inline">
                                        <div class="buttonq"></div>
                                    </a>
                                    <div class="balloon-content">
                                        <h3>
                                            Help for
                                            <i>[Facebook comment]:</i>
                                        </h3>
                                        <p>
                                            Optional comment that will be attached to the description when
                                            posting to the Facebook
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    {{form.comment_for_facebook}}
                                </td>
                            </tr>
                        {% endcomment %}
                        <tr>
                            <td class="tags_bottom">
                                Tags
                                <a href="javascript:void(0);" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[tags]:</i>
                                    </h3>
                                    <p>
                                        Select tags that best describe your event. Insert your event by using the “tab” button or a comma
                                    </p>
                                </div>
                            </td>
                            <td>
                                <div class="tags-popup-wrapper">
                                    <div class="tags-popup">
                                        <div class="tags-container"></div>
                                        <div class="close-button">Close</div>
                                    </div>
                                </div>                                
                                {{form.tags}}
                                <span class="tags-counter-container">
                                    <span class="tags-counter">
                                        0
                                    </span> of 10 (Max 10 Tags)
                                </span>
                            </td>                                            
                        </tr>
                        <tr>
                            <td>
                                Tickets
                                <a href="javascript:void(0);" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[tickets]:</i>
                                    </h3>
                                    <p>                                                        
                                        <strong>Eg.</strong> 
                                        Door / www.ticket.ca / (306)256- xxxxx
                                    </p>
                                </div>
                            </td>
                            <td>
                                {{form.tickets}}
                            </td>                                            
                        </tr>                                        
                        <tr class="picture">
                            <td>
                                Images
                                <a href="javascript:void(0);" class="balloon">
                                    <div class="buttonq"></div>
                                </a>
                                <div class="balloon-content">
                                    <h3>
                                        Help for
                                        <i>[image]:</i>
                                    </h3>
                                    <p>                                                        
                                        Upload an image used for your event. Max size is 32Mb.
                                    </p>
                                </div>
                            </td>
                            <td>
                                {{ form.picture_src }}
                                <div class='full-screen-popup' data-thumb-width="180" data-thumb-height="180">
                                    {{ form.cropping }}
                                    <div class='save-button'>Save image</div>
                                    <div class='cancel-button'>Cancel</div>
                                </div>
                                <div class="picture-thumb">
                                    <img src="" class="preview">
                                </div>
                            </td>                                            
                        </tr>
                        <tr></tr>
                        <tr>
                            <td colspan="3">&nbsp;</td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td>
                                <input type="submit" name="submitevents" class="button standart submit" value="{% block submit_button %}Post Event{% endblock %}" />
                            </td>
                            <td>&nbsp;</td>
                        </tr>
                    </table>
                </form>


                <!--end.main-navigation-content-nav-->

                <div class="clr"></div>

            </div>
        </div>
        <div class="clr"></div>
    </div>
{% endblock %}


{% block advertising %}
    <div class="advertising-with-margin">
        {% random %}
            <div class="advertising-right-container">
                {% advertising_group "300x600|300x250" %}
            </div>
        {% or %}
            <div class="advertising-right-container">
                {% advertising_group "300x250|300x250|300x250" %}
            </div>
        {% endrandom %}
    </div>
{% endblock%}